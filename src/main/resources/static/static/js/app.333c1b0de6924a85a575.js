webpackJsonp([1],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},l=r("VU/8")(null,a,!1,null,null,null).exports,o=r("/ocq"),u=r("mtWM"),i=r.n(u),s={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:4,message:"长度应在 2 到 4 个字符之间",trigger:"blur"}],phoneNumber:[{required:!0,validator:function(e,t,r){/^[0-9]*$/.test(t)?r():r(new Error("手机号码格式不正确"))},trigger:"blur"},{min:11,max:11,message:"手机号码长度应为11",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=new URLSearchParams;r.append("name",t.ruleForm.name),r.append("phoneNumber",t.ruleForm.phoneNumber),r.append("address",t.ruleForm.address),t.$axios({method:"post",url:"http://47.101.142.197:8001/save",data:r}).then(function(e){console.log(e.data),"success"==e.data?t.$alert("数据添加成功！","消息",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}}):t.$alert("添加的数据已存在!","消息",{confirmButtonText:"确定",callback:function(e){t.ruleForm.name="",t.ruleForm.phoneNumber="",t.ruleForm.address=""}})})})},resetForm:function(e){this.$refs[e].resetFields()}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phoneNumber"}},[r("el-input",{model:{value:e.ruleForm.phoneNumber,callback:function(t){e.$set(e.ruleForm,"phoneNumber",t)},expression:"ruleForm.phoneNumber"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"家庭地址",prop:"address"}},[r("el-input",{model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("添加数据")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)},staticRenderFns:[]},c=r("VU/8")(s,m,!1,null,null,null).exports,d=(r("tvR6"),r("zL8q")),p=r.n(d),f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticStyle:{height:"800px",border:"1px solid #eee"}},[r("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[r("el-menu",{attrs:{router:"","default-openeds":["1"]}},[r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),e._v("菜单")]),e._v(" "),r("el-menu-item",{staticClass:"el-icon-house",attrs:{index:"/main"}},[e._v("首页")]),e._v(" "),r("el-menu-item",{staticClass:"el-icon-circle-plus-outline",attrs:{index:"/add"}},[e._v("添加数据")]),e._v(" "),r("el-menu-item",{staticClass:"el-icon-search",attrs:{index:"/search"}},[e._v("查询数据")])],2)],1)],1),e._v(" "),r("el-container",[r("el-main",[r("router-view")],1)],1)],1)},staticRenderFns:[]},h=r("VU/8")({data:function(){return{activeIndex:"1",tableData:null}}},f,!1,null,null,null).exports,b=r("bOdI"),v=r.n(b),g={created:function(){var e=this;i.a.get("http://47.101.142.197:8001/findAll").then(function(t){console.log(t),e.tableData=t.data})},data:function(){var e=this;return v()({activeIndex:"1",tableData:null,loading:!0},"loading",setTimeout(function(){e.loading=!1},1e3))},methods:{del:function(e){var t=this;i.a.delete("http://47.101.142.197:8001/delete/"+e.key).then(function(e){t.$alert("数据删除成功！","消息",{confirmButtonText:"确定",callback:function(e){window.location.reload()}})})},goToUpdate:function(e){this.$router.push({path:"/update",query:{key:e.key}})}}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{label:"Key",prop:"key"}}),e._v(" "),r("el-table-column",{attrs:{label:"用户名",prop:"name"}}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",prop:"phoneNumber"}}),e._v(" "),r("el-table-column",{attrs:{label:"家庭地址",prop:"address"}}),e._v(" "),r("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.goToUpdate(t.row)}}},[e._v("修改")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)},staticRenderFns:[]};var F=r("VU/8")(g,_,!1,function(e){r("l+CX")},null,null).exports,x={data:function(){return{input:"",input1:"",tableData:null}},methods:{searchByName:function(){var e=this;i.a.get("http://47.101.142.197:8001/findByName/"+this.input).then(function(t){e.tableData=t.data})},searchByPhoneNumber:function(){var e=this;i.a.get("http://47.101.142.197:8001/findByPhoneNumber/"+this.input1).then(function(t){e.tableData=t.data})}}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n用户名："),r("el-input",{staticStyle:{width:"25%"},attrs:{placeholder:"请输入内容"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),r("el-button",{staticStyle:{"margin-right":"100px"},attrs:{type:"primary"},on:{click:function(t){return e.searchByName()}}},[e._v("搜索")]),e._v("\n      \n手机号："),r("el-input",{staticStyle:{width:"25%"},attrs:{placeholder:"请输入内容"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}}),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchByPhoneNumber()}}},[e._v("搜索")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{label:"Key",prop:"key"}}),e._v(" "),r("el-table-column",{attrs:{label:"用户名",prop:"name"}}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",prop:"phoneNumber"}}),e._v(" "),r("el-table-column",{attrs:{label:"家庭地址",prop:"address"}})],1)],1)},staticRenderFns:[]},$=r("VU/8")(x,y,!1,null,null,null).exports,k={created:function(){var e=this;i.a.get("http://47.101.142.197:8001/findByKey/"+this.$route.query.key).then(function(t){e.ruleForm=t.data})},data:function(){return{ruleForm:{name:"",phoneNumber:"",address:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:4,message:"长度应在 2 到 4 个字符之间",trigger:"blur"}],phoneNumber:[{required:!0,validator:function(e,t,r){/^[0-9]*$/.test(t)?r():r(new Error("手机号码格式不正确"))},trigger:"blur"},{min:11,max:11,message:"手机号码长度应为11",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=new URLSearchParams;r.append("name",t.ruleForm.name),r.append("phoneNumber",t.ruleForm.phoneNumber),r.append("address",t.ruleForm.address),t.$axios({method:"post",url:"http://47.101.142.197:8001/update",data:r}).then(function(e){console.log(e.data),"success"==e.data?t.$alert("数据修改成功！","消息",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}}):t.$alert("修改的数据已存在!","消息",{confirmButtonText:"确定"})})})},goToMain:function(){this.$router.push("/")}}},N={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-alert",{attrs:{title:"每次只能需改一个地方！",type:"info","show-icon":""}}),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{"margin-top":"25px"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phoneNumber"}},[r("el-input",{model:{value:e.ruleForm.phoneNumber,callback:function(t){e.$set(e.ruleForm,"phoneNumber",t)},expression:"ruleForm.phoneNumber"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"家庭地址",prop:"address"}},[r("el-input",{model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改数据")]),e._v(" "),r("el-button",{on:{click:function(t){return e.goToMain()}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]},w=r("VU/8")(k,N,!1,null,null,null).exports;n.default.prototype.$axios=i.a,n.default.use(o.a),n.default.use(p.a);var B=new o.a({mode:"history",routes:[{path:"/",name:"首页",component:h,redirect:"/main",children:[{path:"/add",name:"添加数据",component:c},{path:"/main",name:"首页",component:F},{path:"/search",name:"搜索数据",component:$},{path:"/update",name:"修改数据",component:w}]}]});n.default.config.productionTip=!1,i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n.default.prototype.$axios=i.a,new n.default({el:"#app",router:B,components:{App:l},template:"<App/>"})},"l+CX":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.333c1b0de6924a85a575.js.map